{% extends 'CcmSiaBundle::layout.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block css %}

    {{ parent() }}
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="{{ asset('bundles/ccmsia/css/responsive-calendar.css') }}" type="text/css"/>

{% endblock %}

{% block wrapper %}

        <div class="row">

            <div class="col-lg-12">
                <p></p>
{#                <h1 class="page-header">Solicitudes </h1>#}
            </div>
        </div>

        <div class="row">
            <div class="col-lg-6">
                 <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-tags"></i> Últimas Solicitudes <span class="badge">{{ solicitudes|length }}</span>
                            <div class="pull-right">
                                <a href="{{ path('solicitud') }}"><button type="button" class="btn btn-primary btn-xs"><i class="fa fa-plus"></i> Crear Solicitud</button></a>
                            </div>
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>Id</th>
                                <th>Tipo / fecha</th>
                                <th>Estatus</th>
                            </tr>
                            </thead>
                            <tbody>

                            {% for solicitud in solicitudes %}
                                <tr>
                                    <td>
                                        <a href="{{ path('solicitud_show', { 'id': solicitud.id }) }}"> {{ solicitud.id }}</a>
                                    </td>
                                    <td>
                                        {{ solicitud.actividad }} {{ solicitud.tipo }}
                                        <span class="pull-right text-muted small"><em>Inicia: {{ solicitud.inicio|date('y-m-d')}}</em>
                                    </span>
                                    </td>

                                    <td>

                                        {%  if solicitud.aprobada %}
                                            <div class="pull-right">
                                            <span class="label label-success">
                                                    {{ 'Aprobada' }}
                                            </span>
                                            </div>

                                                    {% else %}
                                        <div class="pull-right">
                                            <span class="label label-warning">
                                                    {{ 'No aprobada' }}

                                            </span>
                                        </div>
                                                {% endif %}


                                    </td>

                                </tr>
                            {% endfor %}

                            </tbody>
                        </table>
                        <!-- /.table -->
                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->
            </div>

            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-heading"><i class="fa fa-university"></i> Sesiones de Consejo </div>
                        <div class="panel-body">

{#
                            <table class="table">
                            <thead>
                            <tr>
                                <th>Id</th>
                                <th>Sesion</th>
                                <th>Fecha</th>
                            </tr>
                            </thead>
                            <tbody>

                            {% for sesion in sesiones %}
                                <tr>
                                    <td>
                                        {{ sesion.id }}
                                    </td>
                                    <td>
                                        {{ sesion.name }}
                                    </td>

                                    <td>
                                        {{ sesion.fecha|date('y-m-d') }}
                                    </td>

                                </tr>
                            {% endfor %}

                            </tbody>
                        </table>
#}
                            <!-- /.table -->

                            <div class="responsive-calendar">
                                <div class="controls">
                                    <a class="pull-left" data-go="prev"><div class="btn btn-primary">Prev</div></a>
                                    <h4><span data-head-year></span> <span data-head-month></span></h4>
                                    <a class="pull-right" data-go="next"><div class="btn btn-primary">Next</div></a>
                                </div><hr/>
                                <div class="day-headers">
                                    <div class="day header">Mon</div>
                                    <div class="day header">Tue</div>
                                    <div class="day header">Wed</div>
                                    <div class="day header">Thu</div>
                                    <div class="day header">Fri</div>
                                    <div class="day header">Sat</div>
                                    <div class="day header">Sun</div>
                                </div>
                                <div class="days" data-group="days">

                                </div>
                            </div>

                        </div>
                    <div class="panel-footer"> Todas las sesiones </div>
                </div>
            </div>

        </div>
        <!-- /.row -->

    <div class="row">
        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-users fa-fw"></i> Académicos
                </div>
                <!-- /.panel-heading -->
                <div class="panel-body">

                       <table class="table">
                            <thead>
                            <tr>
                                <th>Id</th>
                                <th>Nombre</th>
                                <th>Solicitudes</th>
                            </tr>
                            </thead>
                            <tbody>

                            {% for solicitud in solicitudes %}
                                <tr>
                                    <td>
                                        <img src="http://placekitten.com/g/150/150" alt="..." class="img-circle" style="width: 50px; height: 50px;">
                                    </td>
                                    <td>
                                        {{ solicitud.actividad }} {{ solicitud.tipo }}
                                    </td>

                                    <td>
                                        <a href="#"><span class="badge pull-right">42</span>Home</a>
                                    </td>

                                </tr>
                            {% endfor %}

                            </tbody>
                        </table>
                        <!-- /.table -->
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>

        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading"><i class="fa fa-file-text-o"></i> Proyectos </div>
                <div class="panel-body">
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum tincidunt est vitae ultrices accumsan. Aliquam ornare lacus adipiscing, posuere lectus et, fringilla augue.</p>
                </div>
                <div class="panel-footer"> Panel Footer </div>
            </div>
        </div>

    </div>
    <!-- /.row -->
    </div>

{% endblock %}


{% block javascript %}

    {{ parent() }}

    <script src="{{ asset('bundles/ccmsia/js/responsive-calendar.js')}}"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $(".responsive-calendar").responsiveCalendar({
          time: '2014-10',
//          translateMonths: {"January": "Enero", "February": "Febrero", "March": "Marzo", "April": "Abril", "May": "Mayo", "June": "Junio", "July": "Julio", "August": "Agosto", "September": "Septiembre", "October": "Octubre", "November": "Noviembre", "December": "Diciembre"},
          monthChangeAnimation: false,
          events: {
            "2014-10-30": {"number": 5, "url": "http://w3widgets.com/responsive-slider"},
            "2014-10-26": {"number": 1, "url": "http://w3widgets.com"},
            "2014-11-03":{"number": 1},
            "2014-11-12": {}}
        });
      });
    </script>

{% endblock %}
